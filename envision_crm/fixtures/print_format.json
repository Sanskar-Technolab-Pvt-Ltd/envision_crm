[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "/* Hide the print heading in the print view */\n.print-heading {\n    display: none;\n}\n\n/* Define height for page header and page header space */\n.page-header,\n.page-header-space {\n    height: 50px;\n}\n\n/* Define height for page footer and page footer space */\n.page-footer,\n.page-footer-space {\n    height: 40px;\n}\n\n/* Styling for the fixed page footer */\n.page-footer {\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    margin: auto;\n}\n\n\n/* Apply a page break before an element with class 'page-break-before' */\n/*.page-break-before {*/\n/*    page-break-before: always;*/\n/*}*/\n\n/* Styling for the fixed page header */\n.page-header {\n    position: fixed;\n    top: 0mm;\n    display: block;\n    width: 100%;\n    border-bottom: 0 !important;\n    /* Remove bottom border */\n    color: #ffffff;\n    /* Text color */\n    margin-left: 0px !important;\n    padding-left: 0 !important;\n}\n\n/* Adjust padding for print format preview in a specific context */\n.print-format .print-format-preview {\n    padding-left: 0px !important;\n}\n\n/* Define page size and margins for printing */\n@page {\n    size: A4 portrait;\n    /* Set page size to A4 in portrait orientation */\n    margin: 8mm;\n    /* Set margin to 10mm */\n    margin-bottom: 8mm;\n    /* Set bottom margin to 55px */\n}\n  .ql-editor table{\n        background:#111;\n    }\n    .ql-editor {\n    overflow: visible !important;\n}\n\n\n/* Media query for print styles */\n@media print {\n        .ql-editor {\n    overflow: visible !important;\n}\n\n    .ql-editor table{\n        background:#111;\n    }\n    thead {\n        display: table-header-group;\n    }\n\n    /* Display table header in print view */\n    tfoot {\n        display: table-footer-group;\n    }\n\n    /* Display table footer in print view */\n\n    /* Adjust height for page header and page header space in print view */\n    .page-header,\n    .page-header-space {\n        height: 70px;\n        border-bottom: 0 !important;\n        /* Remove bottom border */\n    }\n\n    /* Adjust height for page footer and page footer space in print view */\n    .page-header,\n    .page-footer-space {\n        height: 40px;\n    }\n    .page-footer img{\n        margin-top:-25px;\n    }\n    /* Apply page break before specific elements in print view */\n    /*.page-break-before {*/\n    /*    page-break-before: avoid;*/\n    /*}*/\n\n    /* Display page header in print view */\n    .page-header {\n        display: block;\n    }\n\n    /* Adjust padding for print format preview in print view */\n    .print-format .print-format-preview {\n        padding-left: 0px !important;\n        padding-top: 0px !important;\n    }\n\n    /* Hide buttons in print view */\n    button {\n        display: none;\n    }\n\n    /* Set body margin to 0 in print view */\n    body {\n        margin: 0;\n    }\n}\n\n/* Adjust margin for the page header */\n.page-header {\n    margin-top: 0px !important;\n}\n\n/* Hide a specific element in print view */\n.text-center h4 {\n    display: none;\n}\n\n.print-format .table-bordered td {\n    border:1px solid black !important;\n    \n}\n.print-format{\n    Padding:0px;\n}\n.page-header{\n    margin-bottom:1px;\n}\n.cost-estimation-table-header{\n    color:black;\n    font-weight:bold;\n}\n\n\n .watermark img {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            font-size: 10em;\n            color:rgba(0, 0, 0, 0.1);\n            pointer-events: none;\n            user-select: none; \n            z-index: 0; \n            white-space: nowrap; \n            width: 35%;\n            height: 100%;\n            text-align: center;\n            overflow: hidden;\n            font-weight:bold;\n        }\n        @media print {\n            .watermark img {\n                  \n                position: fixed;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                font-size: 10em;\n                color: rgba(0, 0, 0, 0.1);\n                pointer-events: none;\n                user-select: none;\n                z-index: 0;\n                white-space: nowrap;\n                width: 35%;\n                height: 100%;\n                text-align: center;\n                overflow: hidden;\n            }\n        }\n\n        .content {\n            /*padding: 20px;*/\n                position: relative; \n            z-index:2;\n        }\n        \n        .ql-editor table{\n            \n             background: transparent;\n             \n        }\n        \n        .ql-editor table tr {\n    background: transparent \n}\n\n\n.ql-editor table td,\n.ql-editor table th {\n    background: transparent\n}\n @media print {\n        @page {\n            counter-increment: page;\n            counter-reset: page 1;\n        }\n\n        .footer {\n            text-align: center;\n            position: fixed;\n            bottom: 10px;\n            width: 100%;\n            font-size: 12px;\n        }\n\n        .page-number::before {\n            content: \"Page \" attr(data-page);\n        }\n\n        .total-pages::before {\n            content: \" of \" attr(data-total);\n        }\n    }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- from \"templates/print_formats/standard_macros.html\" import add_header, render_field -%}\n<!-- Outer container for the print format with some styling -->\n<div class=\"print-format .print-format-preview \" style=\"padding-left: 0px;   \">\n   <!-- Page Header Section -->\n   <div class=\"page-header\">\n      {{ add_header(0, 1, doc, letter_head, no_letterhead ) }}\n   </div>\n   <div  class=\"water-mark\" style=\"\">\n   </div>\n   <!-- Page Footer Section -->\n   <div class=\"page-footer\">\n      {{footer}}\n   </div>\n   <!-- Table for the entire print format -->\n   <table class=\"\">\n      <!-- Table Header Section -->\n      <thead>\n         <tr>\n            <td>\n               <!-- Placeholder for the fixed-position header -->\n               <div class=\"page-header-space\"></div>\n            </td>\n         </tr>\n      </thead>\n      {% set customer_address_details = frappe.db.get_value('Address',\n      doc.customer_address, ['address_title', 'address_type', 'address_line1',\n      'address_line2', 'city', 'country', 'state','pincode'], as_dict=True) %}\n      <!-- Table Body Section -->\n      <tbody class=\"\" >\n         <div class=\"watermark\">\n            <img alt=\"logo\" src=\"/files/Envision_watermark.svg\">\n         </div>\n         <tr class=\"content\">\n            <td>\n               <!-- Placeholder for the main content of the print format -->\n               <!-- Write your print format code here -->\n               <div style=\"margin:20px; text-align: justify;\">\n                  <div>\n                     <div>\n                        <p>\n                           Reference: {{doc.name}}\n                        </p>\n                        <p style=\"white-space: nowrap\"> {{ frappe.utils.format_date(doc.transaction_date, 'dd-MMM-yyyy') or '' }}</p>\n                     </div>\n                     <div style=\"margin-top:20px;\" class=\"section-gap\">\n                        <p>To,</p>\n                        <p> {{customer_address_details.address_title or ''}}</p>\n                        <p> {{customer_address_details.address_line1 or ''}} </p>\n                        <p> {{customer_address_details.address_line2 or ''}} {{customer_address_details.city or ''}} {{customer_address_details.pincode or ''}} {{customer_address_details.state or ''}} </p>\n                     </div>\n                     <!--<div style=\"text-transform: uppercase;margin-top:25px;\" class=\"section-gap\">-->\n                     <!--   <p style=\"font-weight: bold;\">KIND ATTN:</p>-->\n                     <!--</div>-->\n                     <div style=\"text-transform: uppercase;margin-top:20px;\" class=\"section-gap\">\n                        <p style=\"font-weight: bold;\"> Subject:\n                           <span style=\"font-weight: 0px;\">\n                           {{doc.custom_quotation_type or ''}} Proposal for, {{doc.custom_scope_of_work or ''}} For your {{customer_address_details.city or ''}} facility.\n                           </span>\n                        </p>\n                     </div>\n                     <div style=\"margin-top:20px;\">\n                        <p>\n                           Dear Sir,<br><br>We are pleased to submit our proposal for Consulting Services for {{doc.custom_scope_of_work or ''}} for your unit located at {{customer_address_details.city or ''}}\n                        </p>\n                     </div>\n                     <div>\n                        <p>\n                           Our offer includes....\n                        </p>\n                        <table style=\"margin-left: 85px;\">\n                           <!-- Center the table -->\n                           <tbody>\n                              {% for row in doc.custom_print_offer %}\n                              {% if row.main == 1 %} <!-- Assuming the checkbox field is named 'main' -->\n                              <tr style=\"\">\n                                 <td style=\"\"><b>{{ row.serial or '' }}.</b></td>\n                                 <td style=\"\"><b>{{ row.heading or '' }}</b></td>\n                              </tr>\n                              {% endif %}\n                              {% endfor %}\n                           </tbody>\n                        </table>\n                     </div>\n\n                     <div>\n                        <p><br>We hope you will find our offer in line with your requirement. Mean while, if you need any explanation/ clarification on the same, feel free to contact us. We also hope to receive your valued order soon.</p>\n                     </div>\n                     <div>\n                        <p>Thanking you,<br><br>Yours truly,<br><br>For <b>{{doc.company or \"\"}}</b></p>\n                     </div>\n                     <div style=\"margin-top:85px;\">\n                        <p><b>NIHAR DOCTOR</b><br>DIRECTOR<br></p>\n                     </div>\n                  </div>\n                  <div class=\"page-break\"></div>\n\n                  {% for row in doc.custom_print_offer %}\n                  {% if row.has_item_table != true %}\n                    <div style=\"text-align: start; color: black; margin-top: 20px;\">\n                        <p style=\"font-weight: 700; font-size: 12px; display: inline-block; max-width: 100%; white-space: nowrap; text-overflow: ellipsis; overflow: hidden;\">\n                            {{ row.serial or '' }} {{\" \"}} {{ row.heading or '' }}<br>{{ row.template_details or '' | safe }}\n                        </p>\n                            \n                    </div>\n\n                  {% elif row.has_item_table == true  %}\n                  <div>\n                     <div style=\"text-align:start; color:black\">\n                        <span style=\"font-weight: 700; font-size: larger;\">{{ row.serial or '' }} {{\" \"}} {{ row.heading or '' }}</span>  \n                     </div>\n                     <table class=\"scope-work-table   \" style =\" margin-top:10px; width:100%;\" border=\"1\">\n                        <thead>\n                           <tr>\n                              <th class=\"cost-estimation-table-header\" style=\"color:black; font-weight:bold\" >SR. NO.</th>\n                              <th style=\"color:black; font-weight:bold\" >Item</th>\n                              <th style=\"color:black; font-weight:bold\" >Quantity</th>\n                              <th style=\"color:black; font-weight:bold\" >Rate</th>\n                              <th style=\"color:black; font-weight:bold\">Amount</th>\n                              <!--<th  style=\"white-space: nowrap; color:black; font-weight:bold\">Working Days </th>-->\n                           </tr>\n                        </thead>\n                        <tbody>\n                           {% for item in doc.items %}\n                           <tr style=\"\">\n                              <td style=\"width:30px\">{{ loop.index or ' '}}</td>\n                              <td style=\"width:250px\">{{item.item_code or  ' '}}</td>\n                              <td style=\"width:30px;\">{{item.qty or ' '}}</td>\n                              <td style=\"width:30px\">{{item.rate or ' '}}</td>\n                              <td style=\"width:60px;  text-align:center;\">{{item.amount or ' '}}</td>\n                           </tr>\n                           {% endfor %}\n                        </tbody>\n                     </table>\n                  </div>\n                  <br>\n                  {% endif %}\n                  <!--<br>-->\n                  {% endfor %}\n               </div>\n            </td>\n         </tr>\n      </tbody>\n      <!-- Table Footer Section -->\n      <tfoot>\n         <tr>\n            <td>\n               <!-- Placeholder for the fixed-position footer -->\n               <!--<div class=\"footer\">-->\n               <!--   <span class=\"page-number\" data-page=\"1\"></span><span class=\"total-pages\" data-total=\"1\"></span>-->\n               <!--</div>-->\n               <div class=\"page-footer-space\"></div>\n            </td>\n         </tr>\n      </tfoot>\n   </table>\n</div>\n<script>\n   document.addEventListener(\"DOMContentLoaded\", function () {\n     const pageNumberElements = document.querySelectorAll(\".page-number\");\n     const totalPagesElement = document.querySelector(\".total-pages\");\n   \n     // Calculate the total number of pages based on the height of the content\n     const totalPages = Math.ceil(document.body.scrollHeight / window.innerHeight);\n   \n     // Update the total pages in the footer\n     totalPagesElement.setAttribute(\"data-total\", totalPages);\n   \n     // Update current page number dynamically based on scroll position\n     window.addEventListener(\"scroll\", function () {\n       const currentPage = Math.ceil((window.scrollY + window.innerHeight) / window.innerHeight);\n       pageNumberElements.forEach(el => {\n         el.setAttribute(\"data-page\", currentPage);\n       });\n     });\n   \n     // Handle case for PDF rendering to ensure correct page numbers\n     window.onload = function () {\n       const currentPage = Math.ceil((window.scrollY + window.innerHeight) / window.innerHeight);\n       pageNumberElements.forEach(el => {\n         el.setAttribute(\"data-page\", currentPage);\n       });\n     };\n   });\n</script>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-10-24 11:14:39.355535",
  "module": "Selling",
  "name": "Print Offer",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 }
]